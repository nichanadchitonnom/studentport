/* ===== PAGE LAYOUT ===== */
.comment-page-container{
  min-height:100vh;
  background:linear-gradient(180deg,#ffeaf3 0%,#fff 40%) fixed;
  padding:16px 20px 40px;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

.back-button{
  border:none; background:transparent; color:#ff5c8d;
  font-weight:600; cursor:pointer; margin-bottom:12px;
}

/* 2 คอลัมน์ชัดเจน */
.comment-page-grid{
  max-width:1200px; margin:0 auto;
  display:grid; gap:22px;
  grid-template-columns: 1.1fr 0.9fr;      /* ซ้ายใหญ่กว่านิด */
  align-items:start;
}

/* ===== LEFT: viewer + details ===== */
.project-display-section{
  background:#fff; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.08);
  padding:16px;
}

.image-viewer{ position:relative; margin-bottom:14px; }
.project-main-image{
  width:100%; height:430px; object-fit:cover; border-radius:10px;
}

/* ปุ่มเลื่อนรูป */
.nav-button{
  position:absolute; top:50%; transform:translateY(-50%);
  border:none; background:rgba(0,0,0,.55); color:#fff;
  width:36px; height:36px; border-radius:8px; cursor:pointer;
  font-size:20px; line-height:36px; display:flex; align-items:center; justify-content:center;
}
.prev-button{ left:10px; } .next-button{ right:10px; }

/* จุดบอกตำแหน่งรูป */
.image-pagination{
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:12px; display:flex; gap:8px;
}
.image-pagination .dot{
  width:10px; height:10px; border-radius:999px; background:rgba(255,255,255,.7);
  border:2px solid rgba(0,0,0,.25); cursor:pointer;
}
.image-pagination .dot.active{ background:#ff5c8d; border-color:#fff; }

.project-details p{ margin:4px 0; }
.project-details strong{ font-weight:700; }

/* ===== RIGHT: comments column ===== */
.comments-section{
  background:linear-gradient(180deg,#ffd0a8,#ffa56e);
  border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.08);
  padding:16px;
  display:flex; flex-direction:column; gap:12px;
  max-height: 660px;                 /* ความสูงรวมของคอลัมน์ */
}

/* ทำส่วนรายการคอมเมนต์เลื่อนแยกจากฟอร์ม */
.comment-list{
  overflow:auto;
  padding-right:6px;                  /* กันสกอร์ลบาร์ทับข้อความ */
}

/* กล่องคอมเมนต์เดี่ยว */
.comment-block{
  background:#fff7f0; border:1px solid rgba(0,0,0,.06);
  border-radius:10px; padding:12px 14px; box-shadow:0 2px 6px rgba(0,0,0,.05);
}

.comment-header{ display:flex; align-items:center; gap:10px; margin-bottom:6px; }
.author-initial{
  width:36px; height:36px; border-radius:50%;
  background:#ff5c8d; color:#fff; font-weight:700; display:grid; place-items:center;
}
.author-name{ font-weight:700; }
.author-role{ color:#5f5f5f; font-size:12px; }
.comment-text{ margin:0; color:#333; font-style:italic; }

/* ฟอร์มคอมเมนต์อยู่ล่างสุดติดพื้นกล่อง */
.comment-form{
  margin-top:auto; display:flex; flex-direction:column; gap:8px;
  background:rgba(255,255,255,.95); border-radius:10px; padding:12px;
  border:1px solid rgba(0,0,0,.06);
}

.comment-form textarea:focus{ border-color:#ff8c00; box-shadow:0 0 0 3px rgba(255,140,0,.15); }
.comment-form button{
  align-self:flex-end; padding:8px 14px; border:none; border-radius:8px;
  background:#ff5c8d; color:#fff; font-weight:700; cursor:pointer;
}
.comment-form button:disabled{ opacity:.6; cursor:not-allowed; }
.comment-form button:hover:not(:disabled){ background:#ff7aa5; }

.comments-placeholder{
  text-align:center; color:#fff; opacity:.9; font-weight:600;
}
/* จำกัดความกว้างและจัดรูปแบบช่องคอมเมนต์ */
.comment-form textarea {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  border: 1px solid #ccc;
  border-radius: 6px;
  resize: none;                 /* ❌ ห้ามปรับขนาดเอง */
  font-family: inherit;
  font-size: 14px;
  line-height: 1.5;
  max-height: 100px;            /* ✅ จำกัดความสูงสูงสุด */
  overflow-y: auto;             /* ✅ ถ้าพิมพ์เกินให้มี scroll bar แทน */
  word-wrap: break-word;        /* ✅ ตัดคำอัตโนมัติ */
  white-space: pre-wrap;        /* ✅ ตัดบรรทัดอัตโนมัติเมื่อข้อความยาว */
}

/* ป้องกันคอมเมนต์ที่แสดงแล้วล้น */
/* แก้เฉพาะส่วนคอมเมนต์ยาวเกินจอ */
.comment-text {
  font-style: italic;
  color: #333;
  margin: 0;
  padding-left: 50px;
  word-break: break-word;
  overflow-wrap: break-word;
}

